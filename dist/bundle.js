/*! For license information please see bundle.js.LICENSE.txt */
(()=>{var e={56:(e,t,n)=>{"use strict";e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},72:e=>{"use strict";var t=[];function n(e){for(var n=-1,r=0;r<t.length;r++)if(t[r].identifier===e){n=r;break}return n}function r(e,r){for(var a={},i=[],c=0;c<e.length;c++){var s=e[c],u=r.base?s[0]+r.base:s[0],p=a[u]||0,l="".concat(u," ").concat(p);a[u]=p+1;var d=n(l),f={css:s[1],media:s[2],sourceMap:s[3],supports:s[4],layer:s[5]};if(-1!==d)t[d].references++,t[d].updater(f);else{var h=o(f,r);r.byIndex=c,t.splice(c,0,{identifier:l,updater:h,references:1})}i.push(l)}return i}function o(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,o){var a=r(e=e||[],o=o||{});return function(e){e=e||[];for(var i=0;i<a.length;i++){var c=n(a[i]);t[c].references--}for(var s=r(e,o),u=0;u<a.length;u++){var p=n(a[u]);0===t[p].references&&(t[p].updater(),t.splice(p,1))}a=s}}},113:e=>{"use strict";e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},314:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",r=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),r&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),r&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,r,o,a){"string"==typeof e&&(e=[[null,e,void 0]]);var i={};if(r)for(var c=0;c<this.length;c++){var s=this[c][0];null!=s&&(i[s]=!0)}for(var u=0;u<e.length;u++){var p=[].concat(e[u]);r&&i[p[0]]||(void 0!==a&&(void 0===p[5]||(p[1]="@layer".concat(p[5].length>0?" ".concat(p[5]):""," {").concat(p[1],"}")),p[5]=a),n&&(p[2]?(p[1]="@media ".concat(p[2]," {").concat(p[1],"}"),p[2]=n):p[2]=n),o&&(p[4]?(p[1]="@supports (".concat(p[4],") {").concat(p[1],"}"),p[4]=o):p[4]="".concat(o)),t.push(p))}},t}},365:(e,t,n)=>{"use strict";n.d(t,{A:()=>c});var r=n(601),o=n.n(r),a=n(314),i=n.n(a)()(o());i.push([e.id,"body {\n    margin: 0;\n    padding: 0;\n    font-family: Arial, sans-serif;\n    background-color: #edeef0;\n}\n\n#game-container {\n    width: 100%;\n    max-width: 800px;\n    margin: 0 auto;\n    padding: 20px;\n    box-sizing: border-box;\n}\n\n.button {\n    background-color: #4986cc;\n    border: none;\n    color: white;\n    padding: 10px 15px;\n    text-align: center;\n    text-decoration: none;\n    display: inline-block;\n    font-size: 16px;\n    margin: 5px;\n    cursor: pointer;\n    border-radius: 4px;\n}\n\n.big-button {\n    background-color: #4CAF50;\n    border: none;\n    color: white;\n    padding: 15px 30px;\n    text-align: center;\n    text-decoration: none;\n    display: inline-block;\n    font-size: 18px;\n    margin: 10px;\n    cursor: pointer;\n    border-radius: 8px;\n    transition: all 0.2s ease;\n    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);\n}\n\n.big-button:hover {\n    background-color: #45a049;\n    transform: scale(1.05);\n}\n\n.button-clicked {\n    transform: scale(0.95);\n    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);\n}\n\n#click-counter {\n    font-size: 24px;\n    margin-bottom: 20px;\n    color: #333;\n}\n\n#user-info {\n    display: flex;\n    align-items: center;\n    margin-bottom: 20px;\n    padding: 10px;\n    background-color: white;\n    border-radius: 5px;\n}\n\n#server-status {\n    margin-top: 20px;\n    padding: 10px;\n    background-color: #f5f5f5;\n    border-radius: 5px;\n}",""]);const c=i},540:e=>{"use strict";e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},541:function(e,t){!function(e){"use strict";var t=function(){return t=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},t.apply(this,arguments)};function n(e,t,n){if(n||2===arguments.length)for(var r,o=0,a=t.length;o<a;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}function r(e,n,r){var o=function(e){var t={current:0,next:function(){return++this.current}},n={};return{add:function(r,o){var a=null!=o?o:"".concat(t.next(),"_").concat(e);return n[a]=r,a},resolve:function(e,t,r){var o=n[e];o&&(r(t)?o.resolve(t):o.reject(t),n[e]=null)}}}(r);return n((function(e){if(e.detail&&e.detail.data&&"object"==typeof e.detail.data&&"request_id"in e.detail.data){var t=e.detail.data,n=t.request_id,r=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(t,["request_id"]);n&&o.resolve(n,r,(function(e){return!("error_type"in e)}))}})),function(n,r){return void 0===r&&(r={}),new Promise((function(a,i){var c=o.add({resolve:a,reject:i},r.request_id);e(n,t(t({},r),{request_id:c}))}))}}var o,a,i,c,s,u,p,l,d,f,h,v="undefined"!=typeof window,b=Boolean(v&&window.AndroidBridge),m=Boolean(v&&window.webkit&&window.webkit.messageHandlers&&window.webkit.messageHandlers.VKWebAppClose),y=Boolean(v&&window.ReactNativeWebView&&"function"==typeof window.ReactNativeWebView.postMessage),g=v&&!b&&!m,w=g&&/(^\?|&)vk_platform=mobile_web(&|$)/.test(location.search),A=g?"message":"VKWebAppEvent",E=n(["VKWebAppInit","VKWebAppGetCommunityAuthToken","VKWebAppAddToCommunity","VKWebAppAddToHomeScreenInfo","VKWebAppClose","VKWebAppCopyText","VKWebAppCreateHash","VKWebAppGetUserInfo","VKWebAppSetLocation","VKWebAppSendToClient","VKWebAppGetClientVersion","VKWebAppGetPhoneNumber","VKWebAppGetEmail","VKWebAppGetGroupInfo","VKWebAppGetGeodata","VKWebAppGetCommunityToken","VKWebAppGetConfig","VKWebAppGetLaunchParams","VKWebAppSetTitle","VKWebAppGetAuthToken","VKWebAppCallAPIMethod","VKWebAppJoinGroup","VKWebAppLeaveGroup","VKWebAppAllowMessagesFromGroup","VKWebAppDenyNotifications","VKWebAppAllowNotifications","VKWebAppOpenPayForm","VKWebAppOpenApp","VKWebAppShare","VKWebAppShowWallPostBox","VKWebAppScroll","VKWebAppShowOrderBox","VKWebAppShowLeaderBoardBox","VKWebAppShowInviteBox","VKWebAppShowRequestBox","VKWebAppAddToFavorites","VKWebAppShowStoryBox","VKWebAppStorageGet","VKWebAppStorageGetKeys","VKWebAppStorageSet","VKWebAppFlashGetInfo","VKWebAppSubscribeStoryApp","VKWebAppOpenWallPost","VKWebAppCheckAllowedScopes","VKWebAppCheckBannerAd","VKWebAppHideBannerAd","VKWebAppShowBannerAd","VKWebAppCheckNativeAds","VKWebAppShowNativeAds","VKWebAppRetargetingPixel","VKWebAppConversionHit","VKWebAppShowSubscriptionBox","VKWebAppCheckSurvey","VKWebAppShowSurvey","VKWebAppScrollTop","VKWebAppScrollTopStart","VKWebAppScrollTopStop","VKWebAppShowSlidesSheet","VKWebAppTranslate","VKWebAppRecommend","VKWebAppAddToProfile","VKWebAppGetFriends"],g&&!w?["VKWebAppResizeWindow","VKWebAppAddToMenu","VKWebAppShowInstallPushBox","VKWebAppShowCommunityWidgetPreviewBox","VKWebAppCallStart","VKWebAppCallJoin","VKWebAppCallGetStatus"]:["VKWebAppShowImages"],!0),x=v?window.AndroidBridge:void 0,_=m?window.webkit.messageHandlers:void 0,S=g?parent:void 0;e.EAdsFormats=void 0,(a=e.EAdsFormats||(e.EAdsFormats={})).REWARD="reward",a.INTERSTITIAL="interstitial",e.BannerAdLayoutType=void 0,(i=e.BannerAdLayoutType||(e.BannerAdLayoutType={})).RESIZE="resize",i.OVERLAY="overlay",e.BannerAdLocation=void 0,(c=e.BannerAdLocation||(e.BannerAdLocation={})).TOP="top",c.BOTTOM="bottom",e.BannerAdAlign=void 0,(s=e.BannerAdAlign||(e.BannerAdAlign={})).LEFT="left",s.RIGHT="right",s.CENTER="center",e.BannerAdHeightType=void 0,(u=e.BannerAdHeightType||(e.BannerAdHeightType={})).COMPACT="compact",u.REGULAR="regular",e.BannerAdOrientation=void 0,(p=e.BannerAdOrientation||(e.BannerAdOrientation={})).HORIZONTAL="horizontal",p.VERTICAL="vertical",e.EGrantedPermission=void 0,(l=e.EGrantedPermission||(e.EGrantedPermission={})).CAMERA="camera",l.LOCATION="location",l.PHOTO="photo",e.EGetLaunchParamsResponseLanguages=void 0,(d=e.EGetLaunchParamsResponseLanguages||(e.EGetLaunchParamsResponseLanguages={})).RU="ru",d.UK="uk",d.UA="ua",d.EN="en",d.BE="be",d.KZ="kz",d.PT="pt",d.ES="es",e.EGetLaunchParamsResponseGroupRole=void 0,(f=e.EGetLaunchParamsResponseGroupRole||(e.EGetLaunchParamsResponseGroupRole={})).ADMIN="admin",f.EDITOR="editor",f.MEMBER="member",f.MODER="moder",f.NONE="none",e.EGetLaunchParamsResponsePlatforms=void 0,(h=e.EGetLaunchParamsResponsePlatforms||(e.EGetLaunchParamsResponsePlatforms={})).DESKTOP_WEB="desktop_web",h.DESKTOP_WEB_MESSENGER="desktop_web_messenger",h.DESKTOP_APP_MESSENGER="desktop_app_messenger",h.MOBILE_WEB="mobile_web",h.MOBILE_ANDROID="mobile_android",h.MOBILE_ANDROID_MESSENGER="mobile_android_messenger",h.MOBILE_IPHONE="mobile_iphone",h.MOBILE_IPHONE_MESSENGER="mobile_iphone_messenger",h.MOBILE_IPAD="mobile_ipad";var W=function(){var e=void 0,t=[],a=Math.random().toString(36).substring(2,5);function i(e){t.push(e)}function c(e){return b?!(!x||"function"!=typeof x[e]):m?!(!_||!_[e]||"function"!=typeof _[e].postMessage):!!g&&E.includes(e)}function s(){return m||b}function u(){return g&&window.parent!==window}function p(){return s()||u()}function l(r){if(m||b)return n([],t,!0).map((function(e){return e.call(null,r)}));var o=null==r?void 0:r.data;if(g&&o){if(y&&"string"==typeof o)try{o=JSON.parse(o)}catch(r){}var a=o.type,i=o.data,c=o.frameId;a&&("VKWebAppSettings"!==a?n([],t,!0).map((function(e){return e({detail:{type:a,data:i}})})):e=c)}}y&&/(android)/i.test(navigator.userAgent)?document.addEventListener(A,l):"undefined"!=typeof window&&"addEventListener"in window&&window.addEventListener(A,l);var d=r((function(t,n){x&&x[t]?x[t](JSON.stringify(n)):_&&_[t]&&"function"==typeof _[t].postMessage?_[t].postMessage(n):y?window.ReactNativeWebView.postMessage(JSON.stringify({handler:t,params:n})):S&&"function"==typeof S.postMessage&&S.postMessage({handler:t,params:n,type:"vk-connect",webFrameId:e,connectVersion:"2.15.6"},"*")}),i,a);return i((function(e){e.detail&&"SetSupportedHandlers"===e.detail.type&&(o=new Set(e.detail.data.supportedHandlers))})),{send:d,sendPromise:d,subscribe:i,unsubscribe:function(e){var n=t.indexOf(e);n>-1&&t.splice(n,1)},supports:function(e){return console.warn("bridge.supports method is deprecated. Use bridge.supportsAsync instead."),c(e)},supportsAsync:function(e){return function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{s(r.next(e))}catch(e){a(e)}}function c(e){try{s(r.throw(e))}catch(e){a(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,c)}s((r=r.apply(e,t||[])).next())}))}(this,void 0,void 0,(function(){var t;return function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(c){return function(s){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return i.label++,{value:c[1],done:!1};case 5:i.label++,r=c[1],c=[0];continue;case 7:c=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){i=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){i.label=c[1];break}if(6===c[0]&&i.label<o[1]){i.label=o[1],o=c;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(c);break}o[2]&&i.ops.pop(),i.trys.pop();continue}c=t.call(e,i)}catch(e){c=[6,e],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,s])}}}(this,(function(n){switch(n.label){case 0:if(b||m)return[2,c(e)];if(o)return[2,o.has(e)];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,d("SetSupportedHandlers")];case 2:return t=n.sent(),o=new Set(t.supportedHandlers),[3,4];case 3:return n.sent(),o=new Set(["VKWebAppInit"]),[3,4];case 4:return[2,o.has(e)]}}))}))},isWebView:s,isIframe:u,isEmbedded:p,isStandalone:function(){return!p()}}}();e.applyMiddleware=function e(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.includes(void 0)||n.includes(null)?e.apply(void 0,n.filter((function(e){return"function"==typeof e}))):function(e){if(0===n.length)return e;var r,o={subscribe:e.subscribe,send:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.send.apply(e,t)}},a=n.filter((function(e){return"function"==typeof e})).map((function(e){return e(o)})).reduce((function(e,t){return function(n){return e(t(n))}}));return r=a(e.send),t(t({},e),{send:r})}},e.default=W,e.parseURLSearchParamsForGetLaunchParams=function(t){var n={};try{new URLSearchParams(t).forEach((function(t,r){switch(r){case"vk_ts":case"vk_is_recommended":case"vk_profile_id":case"vk_has_profile_button":case"vk_testing_group_id":case"vk_user_id":case"vk_app_id":case"vk_group_id":n[r]=Number(t);break;case"sign":case"vk_chat_id":case"vk_ref":case"vk_access_token_settings":n[r]=t;break;case"odr_enabled":n.odr_enabled="1"===t?1:void 0;break;case"vk_is_app_user":case"vk_are_notifications_enabled":case"vk_is_favorite":n[r]=function(e){switch(e){case"0":return 0;case"1":return 1;default:return}}(t);break;case"vk_language":n.vk_language=function(t){return Object.values(e.EGetLaunchParamsResponseLanguages).some((function(e){return e===t}))}(t)?t:void 0;break;case"vk_viewer_group_role":n.vk_viewer_group_role=function(t){return Object.values(e.EGetLaunchParamsResponseGroupRole).some((function(e){return e===t}))}(t)?t:void 0;break;case"vk_platform":n.vk_platform=function(t){return Object.values(e.EGetLaunchParamsResponsePlatforms).some((function(e){return e===t}))}(t)?t:void 0}}))}catch(e){console.warn(e)}return n},Object.defineProperty(e,"__esModule",{value:!0})}(t)},601:e=>{"use strict";e.exports=function(e){return e[1]}},659:e=>{"use strict";var t={};e.exports=function(e,n){var r=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},825:e=>{"use strict";e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var o=void 0!==n.layer;o&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,o&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var a=n.sourceMap;a&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),t.styleTagTransform(r,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var a=t[r]={id:r,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.nc=void 0,(()=>{"use strict";var e=n(72),t=n.n(e),r=n(825),o=n.n(r),a=n(659),i=n.n(a),c=n(56),s=n.n(c),u=n(540),p=n.n(u),l=n(113),d=n.n(l),f=n(365),h={};h.styleTagTransform=d(),h.setAttributes=s(),h.insert=i().bind(null,"head"),h.domAPI=o(),h.insertStyleElement=p(),t()(f.A,h),f.A&&f.A.locals&&f.A.locals;var v=n(541),b=n.n(v),m=!1,y=0;function g(){b().send("VKWebAppInit").then((function(){return console.log("VK Bridge инициализирован")})).catch((function(e){return console.error("Ошибка инициализации VK Bridge:",e)}))}function w(){return b().send("VKWebAppGetUserInfo").then((function(e){var t,n;return console.log("Получена информация о пользователе:",e),t=e,(n=document.getElementById("user-info"))&&(n.innerHTML='\n            <img src="'.concat(t.photo_200,'" alt="Аватар" style="width: 50px; height: 50px; border-radius: 50%; margin-right: 10px;">\n            <strong>').concat(t.first_name," ").concat(t.last_name,"</strong>\n        "),n.setAttribute("data-user-id",t.id)),e})).catch((function(e){console.error("Ошибка получения информации о пользователе:",e);var t=document.getElementById("user-info");return t&&(t.textContent="Не удалось загрузить информацию о пользователе"),{id:0,first_name:"Гость"}}))}function A(){var e,t,n;y++,(e=document.getElementById("click-counter"))&&(e.textContent="Счёт: ".concat(y)),y%5==0&&(t=document.getElementById("user-info").getAttribute("data-user-id")||0,n=y,fetch("/api/score",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:t,score:n})}).then((function(e){if(!e.ok)throw new Error("HTTP error! Status: ".concat(e.status));return e.json()})).then((function(e){console.log("Результат сохранен:",e)})).catch((function(e){console.error("Ошибка сохранения результата:",e)})));var r=document.getElementById("click-button");r&&(r.classList.add("button-clicked"),setTimeout((function(){r.classList.remove("button-clicked")}),100))}function E(e){if(m)console.log("Игра уже инициализирована, пропускаем повторную инициализацию");else{console.log("Инициализация игры для пользователя:",e.id),fetch("/api/status").then((function(e){if(!e.ok)throw new Error("HTTP error! Status: ".concat(e.status));return e.json()})).then((function(e){var t=document.getElementById("server-status");t&&(t.textContent="Статус сервера: ".concat(e.message))})).catch((function(e){var t=document.getElementById("server-status");t&&(t.textContent="Ошибка соединения с сервером"),console.error("Ошибка получения статуса сервера:",e)}));var t=document.getElementById("game");if(t){t.innerHTML="\n            <div>\n                <p>Игра запущена для игрока ".concat(e.first_name,'!</p>\n                <div id="game-canvas" style="width: 100%; height: 300px; background-color: #f0f0f0; border: 1px solid #ccc; display: flex; flex-direction: column; align-items: center; justify-content: center;">\n                    <h2 id="click-counter">Счёт: 0</h2>\n                    <button id="click-button" class="big-button">Нажми меня!</button>\n                </div>\n            </div>\n        ');var n=document.getElementById("click-button");n&&n.addEventListener("click",A)}m=!0}}function x(){b().send("VKWebAppShowWallPostBox",{message:"Я набрал ".concat(y," очков в Botania VK! Присоединяйтесь ко мне!"),attachments:"https://vk.com/app53221746"}).then((function(e){console.log("Пост опубликован:",e),alert("Пост успешно опубликован!")})).catch((function(e){console.error("Ошибка публикации:",e),alert("Не удалось опубликовать пост")}))}function _(){var e=document.getElementById("share-button");e&&e.addEventListener("click",x)}function S(e){return S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},S(e)}function W(){W=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function p(e,t,n,r){var a=t&&t.prototype instanceof m?t:m,i=Object.create(a.prototype),c=new P(r||[]);return o(i,"_invoke",{value:K(e,n,c)}),i}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=p;var d="suspendedStart",f="suspendedYield",h="executing",v="completed",b={};function m(){}function y(){}function g(){}var w={};u(w,i,(function(){return this}));var A=Object.getPrototypeOf,E=A&&A(A(T([])));E&&E!==n&&r.call(E,i)&&(w=E);var x=g.prototype=m.prototype=Object.create(w);function _(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function V(e,t){function n(o,a,i,c){var s=l(e[o],e,a);if("throw"!==s.type){var u=s.arg,p=u.value;return p&&"object"==S(p)&&r.call(p,"__await")?t.resolve(p.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(p).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(s.arg)}var a;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return a=a?a.then(o,o):o()}})}function K(t,n,r){var o=d;return function(a,i){if(o===h)throw Error("Generator is already running");if(o===v){if("throw"===a)throw i;return{value:e,done:!0}}for(r.method=a,r.arg=i;;){var c=r.delegate;if(c){var s=L(c,r);if(s){if(s===b)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===d)throw o=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=h;var u=l(t,n,r);if("normal"===u.type){if(o=r.done?v:f,u.arg===b)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=v,r.method="throw",r.arg=u.arg)}}}function L(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,L(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),b;var a=l(o,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,b;var i=a.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,b):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,b)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}throw new TypeError(S(t)+" is not iterable")}return y.prototype=g,o(x,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:y,configurable:!0}),y.displayName=u(g,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,u(e,s,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},_(V.prototype),u(V.prototype,c,(function(){return this})),t.AsyncIterator=V,t.async=function(e,n,r,o,a){void 0===a&&(a=Promise);var i=new V(p(e,n,r,o),a);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},_(x),u(x,s,"Generator"),u(x,i,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=T,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(O),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return c.type="throw",c.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,b):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),b},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),O(n),b}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;O(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:T(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),b}},t}function V(e,t,n,r,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function K(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){V(a,r,o,i,c,"next",e)}function c(e){V(a,r,o,i,c,"throw",e)}i(void 0)}))}}document.addEventListener("DOMContentLoaded",(function(){_(),g(),w().then((function(e){E(e)})).catch((function(e){console.error("Ошибка получения информации о пользователе:",e),E({id:0,first_name:"Гость"})})),window.postToWall=function(){x()}})),document.addEventListener("DOMContentLoaded",K(W().mark((function e(){return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g(),e.next=3,w();case 3:E(e.sent),_(),window.postToWall=x;case 7:case"end":return e.stop()}}),e)}))))})()})();